<!-- 

Project Name : Html Editor v3
Created By : Amit Gajare
Project Start Date : 01/10/2021
Releasing Date : 
Made in INDIA 

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Online Html Editor v3">
    <meta name="keywords" content="code editor, html editor, editor">
    <meta name="copyright" content="amit gajare">
    <meta name="subtitle" content="Free Html Editor">
    <meta name="rating" content="General">
    <meta name="owner" content="Amit Gajare">
    <meta name="author" content="Amit GAjare">
    <link  rel="icon" href="logo.png" type="image/jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Html Editor v3</title>
    <link rel="stylesheet" href="style.css">
	<script src="app.js"></script>
	<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Main box -->
    <section id="main_box">
    <textarea class="textbox" id="inputTextToSave" placeholder="Write Here">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
&lt;title&gt;Project X&lt;/title&gt;
&lt;style&gt;

&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
 &lt;h1&gt;Hello, Amit&lt;/h1&gt;             
&lt;script&gt;

&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;       
    </textarea><br><br>
    <button class="run_btn" onclick="run()">Run</button>
    <button class="copy_btn" onclick="myFunction()"><ion-icon name="copy-outline"></ion-icon></button>
    <button class="darkmode_btn" onclick="darkmod()"><ion-icon name="contrast-outline"></ion-icon></button>
    <a class="popbox_btn" href="#popup2" style="background-color: #6633ff; color: aliceblue;"><ion-icon name="folder-open" class="icons"></ion-icon></a>
    <a class="popbox_btn" href="#popup1"><ion-icon name="arrow-down-outline" class="icons"></ion-icon></a><br>
    <br>
    <input type="file" id="fileToLoad" style="width:60%">
	<button onclick="loadFileAsText()" id="loadfile">Load File</button>

    <footer class="foot">
        <div class="copyright" >
      <script>
        document.write('&copy;' );
        document.write(' 2021 - ');
        document.write(new Date().getFullYear());
        document.write(' Amit Gajare - All Rights Reserved.');
          </script> 
        </div>
        </footer>
    </section>

    <!-- pop box -->
    <div id="popup1" class="overlay">
        <div class="popup">
        <h2>Download</h2>
        <a class="close" href="#">&times;</a>
        <div class="content">
            <br>
        <input class="input" id="inputFileNameToSaveAs" placeholder="Enter Name" value="index.html" autocomplete="off"><br>
        <br>
        <button class="download_btn" onclick="saveTextAsFile()">Download</button>
        </div>
        </div>
    </div>

    <!-- tools box -->
    <div id="popup2" class="overlay2">
        <div class="popup3">
        <h3 class="info">Information</h3>
        <a class="close2" href="#">&times;</a>
        <div class="content2">
           <a href="pages/aboutme.html" class="pages" target="_blank">About Me <span>|</span></a>
           <a href="pages/contactus.html" class="pages" target="_blank"> Contact Us <span>|</span></a>
           <a href="pages/codes.html" class="pages" target="_blank"> Source code</a>
        </div>
        </div>
    </div>

    <!-- output box -->
    <div id="output_box">
    <button class="output_back_btn" onclick="backout()">Back</button><br><br>
    <iframe id="output" style="width:100%;height:100vh;border:none;outline:none;" ></iframe>
    </div>

<script type="text/javascript">

function saveTextAsFile(){
	var textToSave = document.getElementById("inputTextToSave").value;
	var textToSaveAsBlob = new Blob([textToSave], {type:"text/plain"});
	var textToSaveAsURL = window.URL.createObjectURL(textToSaveAsBlob);
	var fileNameToSaveAs = document.getElementById("inputFileNameToSaveAs").value;

	var downloadLink = document.createElement("a");
	downloadLink.download = fileNameToSaveAs;
	downloadLink.innerHTML = "Download File";
	downloadLink.href = textToSaveAsURL;
	downloadLink.onclick = destroyClickedElement;
	downloadLink.style.display = "none";
	document.body.appendChild(downloadLink);

	downloadLink.click();
}

function destroyClickedElement(event){
	document.body.removeChild(event.target);
}

function loadFileAsText(){
	var fileToLoad = document.getElementById("fileToLoad").files[0];

	var fileReader = new FileReader();
	fileReader.onload = function(fileLoadedEvent) 
	{
		var textFromFileLoaded = fileLoadedEvent.target.result;
		document.getElementById("inputTextToSave").value = textFromFileLoaded;
	};
	fileReader.readAsText(fileToLoad, "UTF-8");
}

</script>
</html>